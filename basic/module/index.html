<!doctype html><html lang=en dir=ltr>
<head>
<meta charset=utf-8>
<meta name=viewport content="width=device-width,initial-scale=1">
<meta name=description content="Go는 1.11부터 모듈에 지원을 시작했다. Module은 Go의 새로운 의존성 관리 시스템으로, 의존성의 버전 정보를 명확하고 관리하기 쉽게 만든다. 모듈은 파일 트리에 저장되는 Go 패키지 모음으로, 루트에 go.mod 파일이 있다. Go 1.11부터, 진행 중인 디렉토리가 GOPATH 변수의 src 아래가 아닌 경우, go 명령어는 현재 디렉토리나 또는 상위 디렉토리가 go.mod 파일을 가지고 있을 때 모듈을 사용하도록 했다. 그리고 1.13 이후 모든 개발 환경에서 기본 모드로 모듈을 사용했다.
새로운 모듈 만들기 #  GOPATH가 아닌 곳에 새로운 디렉토리를 만들고 패키지를 만들자.">
<meta name=theme-color content="#FFFFFF"><meta property="og:title" content="Module">
<meta property="og:description" content="Go는 1.11부터 모듈에 지원을 시작했다. Module은 Go의 새로운 의존성 관리 시스템으로, 의존성의 버전 정보를 명확하고 관리하기 쉽게 만든다. 모듈은 파일 트리에 저장되는 Go 패키지 모음으로, 루트에 go.mod 파일이 있다. Go 1.11부터, 진행 중인 디렉토리가 GOPATH 변수의 src 아래가 아닌 경우, go 명령어는 현재 디렉토리나 또는 상위 디렉토리가 go.mod 파일을 가지고 있을 때 모듈을 사용하도록 했다. 그리고 1.13 이후 모든 개발 환경에서 기본 모드로 모듈을 사용했다.
새로운 모듈 만들기 #  GOPATH가 아닌 곳에 새로운 디렉토리를 만들고 패키지를 만들자.">
<meta property="og:type" content="article">
<meta property="og:url" content="https://changhoi.github.io/dive-into-go/basic/module/"><meta property="article:section" content="basic">
<meta property="article:modified_time" content="2021-09-24T07:24:56+09:00">
<title>Module | Dive into Go</title>
<link rel=manifest href=/dive-into-go/manifest.json>
<link rel=icon href=/dive-into-go/favicon.png type=image/x-icon>
<link rel=stylesheet href=/dive-into-go/book.min.46181bc93375ba932026e753b37c40e6ff8bb16a9ef770c78bcc663e4577b1ba.css integrity="sha256-RhgbyTN1upMgJudTs3xA5v+LsWqe93DHi8xmPkV3sbo=" crossorigin=anonymous>
<script defer src=/dive-into-go/flexsearch.min.js></script>
<script defer src=/dive-into-go/en.search.min.737c61acc3c7ca47208c182ab2512fe19e2d8f20ea2ce6b79e540765f77fff5a.js integrity="sha256-c3xhrMPHykcgjBgqslEv4Z4tjyDqLOa3nlQHZfd//1o=" crossorigin=anonymous></script>
<script defer src=/dive-into-go/sw.min.60b3febe1cfe2ef0ba434075e748989e1c1847ee656e8cd2cc6afbfa3b335093.js integrity="sha256-YLP+vhz+LvC6Q0B150iYnhwYR+5lbozSzGr7+jszUJM=" crossorigin=anonymous></script>
</head>
<body dir=ltr>
<input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control>
<main class="container flex">
<aside class=book-menu>
<div class=book-menu-content>
<nav>
<h2 class=book-brand>
<a class="flex align-center" href=/dive-into-go/><img src=/dive-into-go/logo.png alt=Logo><span>Dive into Go</span>
</a>
</h2>
<div class=book-search>
<input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/>
<div class="book-search-spinner hidden"></div>
<ul id=book-search-results></ul>
</div>
<ul>
<li>
<p>
<a href=/dive-into-go/basic/>Basic</a></p>
<ul>
<li>
<a href=/dive-into-go/basic/package/>Package</a></li>
<li>
<a href=/dive-into-go/basic/module/ class=active>Module</a></li>
</ul>
</li>
<li>
<p>
<a href=/dive-into-go/insides/>Insides</a></p>
</li>
<li>
<p>
<a href=/dive-into-go/libraries/>Libraries</a></p>
<ul>
<li>
<a href=/dive-into-go/libraries/log/>log</a></li>
</ul>
</li>
</ul>
<ul>
<li>
<a href=https://github.com/changhoi/dive-into-go target=_blank rel=noopener>
Github
</a>
</li>
</ul>
</nav>
<script>(function(){var a=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(b){localStorage.setItem("menu.scrollTop",a.scrollTop)}),a.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>
</div>
</aside>
<div class=book-page>
<header class=book-header>
<div class="flex align-center justify-between">
<label for=menu-control>
<img src=/dive-into-go/svg/menu.svg class=book-icon alt=Menu>
</label>
<strong>Module</strong>
<label for=toc-control>
<img src=/dive-into-go/svg/toc.svg class=book-icon alt="Table of Contents">
</label>
</div>
<aside class="hidden clearfix">
<nav id=TableOfContents>
<ul>
<li>
<ul>
<li><a href=#새로운-모듈-만들기>새로운 모듈 만들기</a></li>
<li><a href=#외부-모듈-사용하기>외부 모듈 사용하기</a></li>
</ul>
</li>
</ul>
</nav>
</aside>
</header>
<article class=markdown><p>Go는 1.11부터 모듈에 지원을 시작했다. Module은 Go의 새로운 의존성 관리 시스템으로, 의존성의 버전 정보를 명확하고 관리하기 쉽게 만든다. 모듈은 파일 트리에 저장되는 <strong>Go 패키지 모음</strong>으로, 루트에 <code>go.mod</code> 파일이 있다. Go 1.11부터, 진행 중인 디렉토리가 <code>GOPATH</code> 변수의 <code>src</code> 아래가 아닌 경우, go 명령어는 현재 디렉토리나 또는 상위 디렉토리가 <code>go.mod</code> 파일을 가지고 있을 때 모듈을 사용하도록 했다. 그리고 1.13 이후 모든 개발 환경에서 기본 모드로 모듈을 사용했다.</p>
<h2 id=새로운-모듈-만들기>
새로운 모듈 만들기
<a class=anchor href=#%ec%83%88%eb%a1%9c%ec%9a%b4-%eb%aa%a8%eb%93%88-%eb%a7%8c%eb%93%a4%ea%b8%b0>#</a>
</h2>
<p>GOPATH가 아닌 곳에 새로운 디렉토리를 만들고 패키지를 만들자.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#f92672>package</span> <span style=color:#a6e22e>hello</span>

<span style=color:#66d9ef>func</span> <span style=color:#a6e22e>Hello</span>() <span style=color:#66d9ef>string</span> {
	<span style=color:#66d9ef>return</span> <span style=color:#e6db74>&#34;안녕, 세상.&#34;</span>
}
</code></pre></div><p>위 상태에서 디렉토리 <code>hello</code>는 패키지를 담고 있지만, 모듈은 아니다. 왜냐면 <code>go.mod</code> 파일이 없기 때문이다. <code>hello</code> 디렉토리를 모듈의 루트로 만들기 위해서는 <code>go mod init</code> 명령어를 수행하면 된다. <code>go mod init</code> 명령어 인자로 패키지 이름이 들어가야 하는데, 일반적으로 패키지가 공유되는 URL 패스를 사용한다. <code>example.com/hello</code> 라는 이름으로 패키지를 만들었다.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-shell data-lang=shell>$ go mod init example.com/hello
</code></pre></div><p>경과로 <code>go.mod</code> 파일을 얻을 수 있는데 처음 만들어진 <code>go.mod</code> 파일은 다음과 같이 생겼다.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#a6e22e>module</span> <span style=color:#a6e22e>example</span>.<span style=color:#a6e22e>com</span><span style=color:#f92672>/</span><span style=color:#a6e22e>hello</span>

<span style=color:#66d9ef>go</span> <span style=color:#ae81ff>1.17</span>
</code></pre></div><p><code>go.mod</code> 파일은 모듈의 루트에만 나타난다. 하위 디렉토리의 패키지에는 루트 패키지 이름에서 하위 디렉토리 패스가 붙은 경로로 임포트할 수 있다. 예를 들어서 <code>hello</code> 패키지 아래 <code>world</code> 패키지가 있다면, <code>hello/world</code> 패키지로 자동적으로 인식된다.</p>
<h2 id=외부-모듈-사용하기>
외부 모듈 사용하기
<a class=anchor href=#%ec%99%b8%eb%b6%80-%eb%aa%a8%eb%93%88-%ec%82%ac%ec%9a%a9%ed%95%98%ea%b8%b0>#</a>
</h2>
<p>Go 모듈을 도입한 주된 이유는 다른 개발자들이 작성한 코드를 사용하는 경험을 개선하기 위해서이다. 방금 짠 <code>hello.go</code>에서 외부 패키지를 사용해보자.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#f92672>package</span> <span style=color:#a6e22e>hello</span>

<span style=color:#f92672>import</span> <span style=color:#e6db74>&#34;rsc.io/quote&#34;</span>

<span style=color:#66d9ef>func</span> <span style=color:#a6e22e>Hello</span>() <span style=color:#66d9ef>string</span> {
	<span style=color:#66d9ef>return</span> <span style=color:#a6e22e>quote</span>.<span style=color:#a6e22e>Hello</span>()
}
</code></pre></div><p>go 명령은 <code>go.mod</code>에 나열된 특정 의존성 모듈의 버전을 사용해 임포트를 해결한다. 그런데, 임포트한 패키지가 <code>go.mod</code> 안의 어떠한 모듈에서도 제공하지 않는 패키지라면 go 명령어는 자동적으로 그 패키지를 담고 있는 모듈을 찾아서 <code>go.mod</code>에 최신버전으로 추가한다. 예시에서는 <code>rsc.io/quote</code> 패키지를 새로 다운로드하고, 그 패키지가 사용하는 두 개의 종속성 패키지를 추가로 가져왔다.</p>
<div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-go data-lang=go><span style=color:#a6e22e>module</span> <span style=color:#a6e22e>example</span>.<span style=color:#a6e22e>com</span><span style=color:#f92672>/</span><span style=color:#a6e22e>hello</span>

<span style=color:#66d9ef>go</span> <span style=color:#ae81ff>1.17</span>

<span style=color:#a6e22e>require</span> <span style=color:#a6e22e>rsc</span>.<span style=color:#a6e22e>io</span><span style=color:#f92672>/</span><span style=color:#a6e22e>quote</span> <span style=color:#a6e22e>v1</span><span style=color:#ae81ff>.5.2</span>

<span style=color:#a6e22e>require</span> (
	<span style=color:#a6e22e>golang</span>.<span style=color:#a6e22e>org</span><span style=color:#f92672>/</span><span style=color:#a6e22e>x</span><span style=color:#f92672>/</span><span style=color:#a6e22e>text</span> <span style=color:#a6e22e>v0</span><span style=color:#ae81ff>.0.0</span><span style=color:#f92672>-</span><span style=color:#ae81ff>20170915032832</span><span style=color:#f92672>-</span><span style=color:#ae81ff>14</span><span style=color:#a6e22e>c0d48ead0c</span> <span style=color:#75715e>// indirect
</span><span style=color:#75715e></span>	<span style=color:#a6e22e>rsc</span>.<span style=color:#a6e22e>io</span><span style=color:#f92672>/</span><span style=color:#a6e22e>sampler</span> <span style=color:#a6e22e>v1</span><span style=color:#ae81ff>.3.0</span> <span style=color:#75715e>// indirect
</span><span style=color:#75715e></span>)
</code></pre></div><p>&mldr; 공부 더 하는 중</p>
</article>
<footer class=book-footer>
<div class="flex flex-wrap justify-between">
<div><a class="flex align-center" href=https://github.com/changhoi/dive-into-go/commit/2d154c030d59019d4d8cfe95217dbf087f2b0a1a title="Last modified by changhoi | September 23, 2021" target=_blank rel=noopener>
<img src=/dive-into-go/svg/calendar.svg class=book-icon alt=Calendar>
<span>September 23, 2021</span>
</a>
</div>
</div>
<script>(function(){function a(c){const a=window.getSelection(),b=document.createRange();b.selectNodeContents(c),a.removeAllRanges(),a.addRange(b)}document.querySelectorAll("pre code").forEach(b=>{b.addEventListener("click",function(c){a(b.parentElement),navigator.clipboard&&navigator.clipboard.writeText(b.parentElement.textContent)})})})()</script>
</footer>
<label for=menu-control class="hidden book-menu-overlay"></label>
</div>
<aside class=book-toc>
<div class=book-toc-content>
<nav id=TableOfContents>
<ul>
<li>
<ul>
<li><a href=#새로운-모듈-만들기>새로운 모듈 만들기</a></li>
<li><a href=#외부-모듈-사용하기>외부 모듈 사용하기</a></li>
</ul>
</li>
</ul>
</nav>
</div>
</aside>
</main>
</body>
</html>